<!DOCTYPE html>
<html class="dark" dir="rtl" lang="ar">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</title>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;700;800&amp;display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#f0995c",
                        "primary-dark": "#d68951",
                        "secondary": "#3b82f6",
                        "success": "#10b981",
                        "warning": "#f59e0b",
                        "background-light": "#f8f7f6",
                        "background-dark": "#211811",
                        "surface-dark": "#2F221A",
                        "surface-light": "#FFFFFF",
                    },
                    fontFamily: {
                        "display": ["Manrope", "Noto Sans", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.25rem",
                        "lg": "0.5rem",
                        "xl": "0.75rem",
                        "2xl": "1rem",
                        "full": "9999px"
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-in-out',
                        'slide-up': 'slideUp 0.4s ease-out',
                        'pulse-glow': 'pulseGlow 2s ease-in-out infinite',
                    }
                },
            },
        }
    </script>
    <style>
        .pb-safe {
            padding-bottom: env(safe-area-inset-bottom, 20px);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 5px rgba(240, 153, 92, 0.5); }
            50% { box-shadow: 0 0 15px rgba(240, 153, 92, 0.8); }
        }
        
        @keyframes progressFill {
            from { width: 0%; }
            to { width: var(--progress-width); }
        }
        
        body {
            min-height: max(884px, 100dvh);
        }
        
        /* ØªØ®ØµÙŠØµ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± */
        ::-webkit-scrollbar {
            width: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }
        
        .dark ::-webkit-scrollbar-track {
            background: #2a1f17;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #f0995c;
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #d68951;
        }
        
        /* ØªØ£Ø«ÙŠØ±Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ© */
        .interactive-card {
            transition: all 0.3s ease;
        }
        
        .interactive-card:hover {
            transform: translateY(-5px);
        }
        
        /* ØªØ£Ø«ÙŠØ± Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }
        
        .dark .skeleton {
            background: linear-gradient(90deg, #2a1f17 25%, #3a2a1f 50%, #2a1f17 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }
        
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-[#111418] dark:text-white overflow-x-hidden selection:bg-primary selection:text-white">
    <div class="relative flex min-h-screen w-full flex-col pb-24">
        <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
        <header class="sticky top-0 z-30 flex items-center justify-between bg-background-light/95 dark:bg-background-dark/95 px-4 py-4 backdrop-blur-sm transition-colors duration-300 border-b border-gray-200 dark:border-white/5">
            <button id="settingsBtn" class="group flex h-10 w-10 items-center justify-center rounded-full bg-white dark:bg-surface-dark shadow-sm transition-all active:scale-95 border border-gray-100 dark:border-transparent hover:shadow-md">
                <span class="material-symbols-outlined text-gray-600 dark:text-[#c8a992] group-hover:text-primary transition-colors">settings</span>
            </button>
            
            <div class="flex flex-col items-center">
                <h1 id="greeting" class="text-base font-bold leading-tight text-gray-900 dark:text-white">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø£Ø­Ù…Ø¯</h1>
                <span id="currentDate" class="text-xs text-gray-500 dark:text-[#c8a992]/80 mt-1"></span>
            </div>
            
            <button id="notificationsBtn" class="group flex h-10 w-10 items-center justify-center rounded-full bg-white dark:bg-surface-dark shadow-sm transition-all active:scale-95 border border-gray-100 dark:border-transparent hover:shadow-md relative">
                <span class="material-symbols-outlined text-gray-600 dark:text-[#c8a992] group-hover:text-primary transition-colors">notifications</span>
                <span id="notificationBadge" class="absolute -top-1 -right-1 h-4 w-4 rounded-full bg-red-500 text-white text-[10px] flex items-center justify-center font-bold hidden">3</span>
            </button>
        </header>
        
        <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
        <main class="flex-1 overflow-y-auto">
            <!-- ÙƒØ§Ø±Øª Ø§Ù„Ø¹Ù…Ø± -->
            <section class="px-4 pt-4 pb-2">
                <div id="ageCard" class="relative cursor-pointer overflow-hidden rounded-2xl bg-gradient-to-br from-surface-light to-gray-50 dark:from-surface-dark dark:to-[#261c16] p-6 shadow-lg interactive-card ring-1 ring-gray-900/5 dark:ring-white/5">
                    <div class="absolute -right-10 -top-10 h-40 w-40 rounded-full bg-primary/5 blur-3xl"></div>
                    <div class="absolute left-2 top-2 h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center">
                        <span class="material-symbols-outlined text-primary ">cake</span>
                    </div>
                    
                    <div class="relative z-10 flex flex-col gap-6">
                        <div class="flex items-end justify-between mt-2">
                            <div class="flex flex-col items-center gap-1">
                                <span class="text-xs font-semibold uppercase tracking-wider text-gray-400 dark:text-[#c8a992]/60">Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</span>
                                <span id="currentYear" class="text-3xl font-extrabold text-gray-900 dark:text-white">
                                    2025
                                </span>
                            </div>
                            
                            <div class="mb-2 flex flex-1 flex-col items-center px-4">
                                <span id="remainingDays" class="mb-2 text-xs font-bold text-primary">120 ÙŠÙˆÙ… Ù…ØªØ¨Ù‚ÙŠ</span>
                                <div class="relative h-3 w-full rounded-full bg-gray-200 dark:bg-[#473324] overflow-hidden">
                                    <div id="progressBar" class="absolute right-0 top-0 h-full rounded-full bg-gradient-to-r from-primary to-primary-dark shadow-[0_0_10px_rgba(240,153,92,0.4)]" style="width: 65%;"></div>
                                    <div id="progressMarker" class="absolute top-1/2 -translate-y-1/2 bg-surface-light dark:bg-surface-dark rounded-full p-[2px] shadow-sm border-2 border-primary" style="left: 35%;">
                                        <span class="material-symbols-outlined text-[10px] text-primary block rotate-180">arrow_forward</span>
                                    </div>
                                </div>
                                <div class="flex justify-between w-full mt-1">
                                    <span class="text-[10px] text-gray-400">Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¹Ø§Ù…</span>
                                    <span class="text-[10px] text-gray-400">Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¹Ø§Ù…</span>
                                </div>
                            </div>
                            
                            <div class="flex flex-col items-center gap-1">
                                <span class="text-xs font-semibold uppercase tracking-wider text-gray-400 dark:text-[#c8a992]/60">Ø§Ù„Ø¹Ù…Ø± Ø§Ù„Ù‚Ø§Ø¯Ù…</span>
                                <div class="flex items-baseline gap-1">
                                    <span id="nextAge" class="text-3xl font-extrabold text-gray-900 dark:text-white">26</span>
                                    <span class="text-xs font-bold text-gray-400 dark:text-gray-500">Ø³Ù†Ø©</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-center gap-2 rounded-xl bg-primary/10 py-3 dark:bg-[#473324]/50 border border-primary/20">
                            <span class="material-symbols-outlined text-primary text-sm">celebration</span>
                            <span class="text-sm font-medium text-gray-700 dark:text-[#c8a992]">Ø¹ÙŠØ¯ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯: <span id="birthdayText" class="text-gray-900 dark:text-white font-bold">15 Ù†ÙˆÙÙ…Ø¨Ø±</span></span>
                        </div>
                        
                      
                    </div>
                </div>
            </section>
            <!-- Ø¢ÙŠØ© ÙˆØ§Ù‚ØªØ¨Ø§Ø³ -->
<section class="px-4 pt-4 pb-2">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- ÙƒØ§Ø±Øª Ø§Ù„Ø¢ÙŠØ© -->
        <div class="rounded-2xl bg-white dark:bg-surface-dark p-6 shadow-sm ring-1 ring-gray-900/5 dark:ring-white/5">
            <div class="flex flex-col items-center">
                <span class="material-symbols-outlined mb-2 text-3xl text-primary/20">menu_book</span>
                <p id="ayahText" class="font-display text-lg font-bold leading-relaxed text-gray-900 dark:text-white text-center">
                    "ÙˆÙØ£ÙÙ† Ù„Ù‘ÙÙŠÙ’Ø³Ù Ù„ÙÙ„Ù’Ø¥ÙÙ†Ø³ÙØ§Ù†Ù Ø¥ÙÙ„Ù‘ÙØ§ Ù…ÙØ§ Ø³ÙØ¹ÙÙ‰Ù°"
                </p>
                <span id="ayahInfo" class="mt-2 text-xs font-medium text-gray-400 dark:text-gray-500">Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ø¬Ù… - Ù£Ù©</span>
            </div>
            <div class="my-4 border-t border-gray-100 dark:border-white/5"></div>
            <div class="flex flex-col items-center">
                <p id="ayahTafsirText" class="text-sm font-medium leading-relaxed text-gray-600 dark:text-[#c8a992] text-center">
                    Ù„ÙƒÙ„ Ø¥Ù†Ø³Ø§Ù† Ø¬Ø²Ø§Ø¡ Ø³Ø¹ÙŠÙ‡ ÙˆØ¹Ù…Ù„Ù‡ØŒ ÙˆÙ„Ø§ ÙŠØ­Ù…Ù„ ÙˆØ²Ø± ØºÙŠØ±Ù‡
                </p>
                <div class="mt-3">
                    <button id="refreshAyah" class="text-xs font-medium text-primary hover:text-primary-dark transition-colors flex items-center gap-1">
                        <span class="material-symbols-outlined text-sm">refresh</span>
                        ØªØºÙŠÙŠØ± Ø§Ù„Ø¢ÙŠØ©
                    </button>
                </div>
            </div>
        </div>
        
        <!-- ÙƒØ§Ø±Øª Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³ -->
        <div class="rounded-2xl bg-white dark:bg-surface-dark p-6 shadow-sm ring-1 ring-gray-900/5 dark:ring-white/5">
            <div class="flex flex-col items-center">
                <span class="material-symbols-outlined mb-2 text-3xl text-primary/20">format_quote</span>
                <p id="quoteText" class="font-display text-lg font-bold leading-relaxed text-gray-900 dark:text-white text-center">
                    "Ø§Ù„Ù†Ø¬Ø§Ø­ Ù‡Ùˆ Ù…Ø¬Ù…ÙˆØ¹ Ù…Ø¬Ù‡ÙˆØ¯Ø§Øª ØµØºÙŠØ±Ø© ØªØªÙƒØ±Ø± ÙŠÙˆÙ…Ø§Ù‹ Ø¨Ø¹Ø¯ ÙŠÙˆÙ…."
                </p>
                <span id="quoteAuthor" class="mt-2 text-xs font-medium text-gray-400 dark:text-gray-500">Ø±ÙˆØ¨Ø±Øª ÙƒÙˆÙ„ÙŠØ±</span>
            </div>
            <div class="my-4 border-t border-gray-100 dark:border-white/5"></div>
            <div class="flex flex-col items-center">
                <p id="quoteSource" class="text-sm font-medium leading-relaxed text-gray-600 dark:text-[#c8a992] text-center">
                    ÙƒØªØ§Ø¨ "The Secret of the Ages"
                </p>
                <div class="mt-3">
                    <button id="refreshQuote" class="text-xs font-medium text-primary hover:text-primary-dark transition-colors flex items-center gap-1">
                        <span class="material-symbols-outlined text-sm">refresh</span>
                        ØªØºÙŠÙŠØ± Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>
            
            <!-- Ø§Ù„Ù†Ø¸Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© -->
            <section class="px-4 pt-4">
                <div class="mb-4 flex items-center justify-between">
                    <h2 class="text-lg font-bold text-gray-900 dark:text-white">Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©</h2>
                    <button id="viewAllBtn" class="text-xs font-bold text-primary hover:text-primary/80 transition-colors">Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„</button>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <!-- ÙƒØ§Ø±Øª Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª -->
                    <div class="group flex flex-col justify-between rounded-2xl bg-white dark:bg-surface-dark p-5 shadow-sm interactive-card ring-1 ring-gray-900/5 dark:ring-white/5">
                        <div class="mb-4 flex items-start justify-between">
                            <div class="flex h-10 w-10 items-center justify-center rounded-xl bg-orange-100 text-orange-600 dark:bg-[#473324] dark:text-primary">
                                <span class="material-symbols-outlined">description</span>
                            </div>
                            <span class="material-symbols-outlined text-lg text-gray-300 transition-colors group-hover:text-primary dark:text-gray-600">arrow_outward</span>
                        </div>
                        <div>
                            <p class="text-3xl font-bold text-gray-900 dark:text-white">12</p>
                            <p class="text-sm font-medium text-gray-500 dark:text-[#c8a992]">Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</p>
                        </div>
                        <div class="mt-3 h-1.5 w-full rounded-full bg-gray-100 dark:bg-gray-700 overflow-hidden">
                            <div class="h-full rounded-full bg-orange-500" style="width: 80%"></div>
                        </div>
                    </div>
                    
                    <!-- ÙƒØ§Ø±Øª Ø§Ù„Ø£ÙÙƒØ§Ø± -->
                    <div class="group flex flex-col justify-between rounded-2xl bg-white dark:bg-surface-dark p-5 shadow-sm interactive-card ring-1 ring-gray-900/5 dark:ring-white/5">
                        <div class="mb-4 flex items-start justify-between">
                            <div class="flex h-10 w-10 items-center justify-center rounded-xl bg-blue-50 text-blue-600 dark:bg-blue-500/10 dark:text-blue-400">
                                <span class="material-symbols-outlined">lightbulb</span>
                            </div>
                            <span class="material-symbols-outlined text-lg text-gray-300 transition-colors group-hover:text-blue-500 dark:text-gray-600">arrow_outward</span>
                        </div>
                        <div>
                            <p class="text-3xl font-bold text-gray-900 dark:text-white">5</p>
                            <p class="text-sm font-medium text-gray-500 dark:text-[#c8a992]">Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙÙƒØ§Ø±</p>
                        </div>
                        <div class="mt-3 h-1.5 w-full rounded-full bg-gray-100 dark:bg-gray-700 overflow-hidden">
                            <div class="h-full rounded-full bg-blue-500" style="width: 40%"></div>
                        </div>
                    </div>
                    
                    <!-- ÙƒØ§Ø±Øª Ø§Ù„Ù…Ù‡Ø§Ù… -->
                    <div class="group flex flex-col justify-between rounded-2xl bg-white dark:bg-surface-dark p-5 shadow-sm interactive-card ring-1 ring-gray-900/5 dark:ring-white/5">
                        <div class="mb-4 flex items-start justify-between">
                            <div class="flex h-10 w-10 items-center justify-center rounded-xl bg-emerald-50 text-emerald-600 dark:bg-emerald-500/10 dark:text-emerald-400">
                                <span class="material-symbols-outlined">task_alt</span>
                            </div>
                            <span class="material-symbols-outlined text-lg text-gray-300 transition-colors group-hover:text-emerald-500 dark:text-gray-600">arrow_outward</span>
                        </div>
                        <div>
                            <p class="text-3xl font-bold text-gray-900 dark:text-white">8</p>
                            <p class="text-sm font-medium text-gray-500 dark:text-[#c8a992]">Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù‡Ø§Ù…</p>
                        </div>
                        <div class="mt-3 h-1.5 w-full rounded-full bg-gray-100 dark:bg-gray-700 overflow-hidden">
                            <div class="h-full rounded-full bg-emerald-500" style="width: 60%"></div>
                        </div>
                    </div>
                    
                    <!-- ÙƒØ§Ø±Øª Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª -->
                    <div class="group flex flex-col justify-between rounded-2xl bg-white dark:bg-surface-dark p-5 shadow-sm interactive-card ring-1 ring-gray-900/5 dark:ring-white/5">
                        <div class="mb-4 flex items-start justify-between">
                            <div class="flex h-10 w-10 items-center justify-center rounded-xl bg-purple-50 text-purple-600 dark:bg-purple-500/10 dark:text-purple-400">
                                <span class="material-symbols-outlined">route</span>
                            </div>
                            <span class="material-symbols-outlined text-lg text-gray-300 transition-colors group-hover:text-purple-500 dark:text-gray-600">arrow_outward</span>
                        </div>
                        <div>
                            <p class="text-3xl font-bold text-gray-900 dark:text-white">4</p>
                            <p class="text-sm font-medium text-gray-500 dark:text-[#c8a992]">Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª</p>
                        </div>
                        <div class="mt-3 h-1.5 w-full rounded-full bg-gray-100 dark:bg-gray-700 overflow-hidden">
                            <div class="h-full rounded-full bg-purple-500" style="width: 30%"></div>
                        </div>
                    </div>
                    
                    <!-- ÙƒØ§Ø±Øª Ø§Ù„Ø¬Ù„Ø³Ø§Øª -->
                    <div class="group flex flex-col justify-between rounded-2xl bg-white dark:bg-surface-dark p-5 shadow-sm interactive-card ring-1 ring-gray-900/5 dark:ring-white/5 col-span-2">
                        <div class="mb-4 flex items-start justify-between">
                            <div class="flex h-10 w-10 items-center justify-center rounded-xl bg-[#F7B980]/15 text-[#b0743b] dark:bg-[#F7B980]/10 dark:text-[#F7B980]">
                                <span class="material-symbols-outlined">timer</span>
                            </div>
                            <span class="material-symbols-outlined text-lg text-gray-300 transition-colors group-hover:text-[#F7B980] dark:text-gray-600">arrow_outward</span>
                        </div>
                        <div>
                            <p class="text-3xl font-bold text-gray-900 dark:text-white">24</p>
                            <p class="text-sm font-medium text-gray-500 dark:text-[#c8a992]">Ø¹Ø¯Ø¯ Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©</p>
                        </div>
                        <div class="mt-3 h-1.5 w-full rounded-full bg-gray-100 dark:bg-gray-700 overflow-hidden">
                            <div class="h-full rounded-full bg-gradient-to-r from-[#F7B980] to-[#f0995c]" style="width: 90%"></div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙˆÙ‚Øª -->
            <section class="px-4 pt-6 pb-6">
                <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-4">Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙˆÙ‚Øª</h3>
                <div class="grid grid-cols-4 gap-3">
                    <div class="rounded-xl bg-white dark:bg-surface-dark p-4 text-center shadow-sm ring-1 ring-gray-900/5 dark:ring-white/5">
                        <span class="material-symbols-outlined text-primary block mb-2">today</span>
                        <span class="text-2xl font-bold text-gray-900 dark:text-white" id="currentWeek">24</span>
                        <span class="text-xs text-gray-500 dark:text-[#c8a992] block mt-1">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠ</span>
                    </div>
                    <div class="rounded-xl bg-white dark:bg-surface-dark p-4 text-center shadow-sm ring-1 ring-gray-900/5 dark:ring-white/5">
                        <span class="material-symbols-outlined text-primary block mb-2">event</span>
                        <span class="text-2xl font-bold text-gray-900 dark:text-white" id="daysInMonth">30</span>
                        <span class="text-xs text-gray-500 dark:text-[#c8a992] block mt-1">Ø£ÙŠØ§Ù… Ø§Ù„Ø´Ù‡Ø±</span>
                    </div>
                    <div class="rounded-xl bg-white dark:bg-surface-dark p-4 text-center shadow-sm ring-1 ring-gray-900/5 dark:ring-white/5">
                        <span class="material-symbols-outlined text-primary block mb-2">date_range</span>
                        <span class="text-2xl font-bold text-gray-900 dark:text-white" id="daysInYear">365</span>
                        <span class="text-xs text-gray-500 dark:text-[#c8a992] block mt-1">ÙŠÙˆÙ… ÙÙŠ Ø§Ù„Ø³Ù†Ø©</span>
                    </div>
                    <div class="rounded-xl bg-white dark:bg-surface-dark p-4 text-center shadow-sm ring-1 ring-gray-900/5 dark:ring-white/5">
                        <span class="material-symbols-outlined text-primary block mb-2">schedule</span>
                        <span class="text-2xl font-bold text-gray-900 dark:text-white" id="hoursLeft">8760</span>
                        <span class="text-xs text-gray-500 dark:text-[#c8a992] block mt-1">Ø³Ø§Ø¹Ø© Ù…ØªØ¨Ù‚ÙŠØ©</span>
                    </div>
                </div>
            </section>
        </main>
        
        <!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙÙ„ÙŠØ© -->
        <nav class="fixed bottom-0 left-0 right-0 z-50 flex items-center justify-around border-t border-gray-200 bg-white/95 px-2 pb-safe pt-2 backdrop-blur-md dark:border-white/5 dark:bg-[#19120d]/95">
            <a class="group flex flex-col items-center gap-1 p-2" href="#">
                <div class="flex h-10 w-12 items-center justify-center rounded-full bg-primary/10 transition-colors group-hover:bg-primary/20 dark:bg-[#473324]">
                    <span class="material-symbols-outlined text-2xl text-primary font-variation-fill">dashboard</span>
                </div>
                <span class="text-[10px] font-bold text-primary">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
            </a>
            <a class="group flex flex-col items-center gap-1 p-2" href="#">
                <div class="flex h-10 w-12 items-center justify-center rounded-full transition-colors group-hover:bg-gray-100 dark:group-hover:bg-white/5">
                    <span class="material-symbols-outlined text-2xl text-gray-400 dark:text-[#c8a992]">task_alt</span>
                </div>
                <span class="text-[10px] font-medium text-gray-400 dark:text-[#c8a992]">Ø§Ù„Ù…Ù‡Ø§Ù…</span>
            </a>
            <a class="group flex flex-col items-center gap-1 p-2" href="#">
                <div class="flex h-10 w-12 items-center justify-center rounded-full transition-colors group-hover:bg-gray-100 dark:group-hover:bg-white/5">
                    <span class="material-symbols-outlined text-2xl text-gray-400 dark:text-[#c8a992]">lightbulb</span>
                </div>
                <span class="text-[10px] font-medium text-gray-400 dark:text-[#c8a992]">Ø§Ù„Ø£ÙÙƒØ§Ø±</span>
            </a>
            <a class="group flex flex-col items-center gap-1 p-2" href="#">
                <div class="flex h-10 w-12 items-center justify-center rounded-full transition-colors group-hover:bg-gray-100 dark:group-hover:bg-white/5">
                    <span class="material-symbols-outlined text-2xl text-gray-400 dark:text-[#c8a992]">news</span>
                </div>
                <span class="text-[10px] font-medium text-gray-400 dark:text-[#c8a992]">Ø§ï»·Ø®Ø¨Ø§Ø±</span>
            </a>
        </nav>
    </div>

    <!-- ===============================
       ÙƒØ§Ø±Øª Ù…Ù†Ø¨Ø«Ù‚ Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯
    ================================ -->
    <div id="birthModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/40 backdrop-blur-sm">
        <div class="w-[90%] max-w-sm rounded-2xl bg-white dark:bg-surface-dark p-6 shadow-xl ring-1 ring-gray-900/5 dark:ring-white/5 animate-[fadeIn_0.25s_ease]">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-bold text-gray-900 dark:text-white">
                    ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ ğŸ‚
                </h3>
                <button onclick="closeBirthModal()" class="material-symbols-outlined text-gray-400 hover:text-primary transition-colors">
                    close
                </button>
            </div>
            
            <p class="text-sm text-gray-500 dark:text-[#c8a992] mb-4">
                Ø£Ø¯Ø®Ù„ ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯Ùƒ Ù„ÙŠØªÙ… Ø­Ø³Ø§Ø¨ Ø¹Ù…Ø±Ùƒ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§. ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„Ù‡ Ù„Ø§Ø­Ù‚Ù‹Ø§.
            </p>
            
            <input id="birthInput" type="date" max="2024-12-31" class="w-full rounded-xl border border-gray-200 dark:border-white/10 bg-gray-50 dark:bg-[#261c16] px-4 py-3 text-sm text-gray-900 dark:text-white focus:border-primary focus:ring-2 focus:ring-primary/30 transition-all"/>
            
            <div class="flex gap-2 mt-4">
                <button onclick="closeBirthModal()" class="flex-1 rounded-xl border border-gray-300 dark:border-white/10 py-3 text-sm font-medium text-gray-700 dark:text-gray-300 transition active:scale-95 hover:bg-gray-50 dark:hover:bg-white/5">
                    Ø¥Ù„ØºØ§Ø¡
                </button>
                <button onclick="saveBirthDate()" class="flex-1 rounded-xl bg-primary py-3 text-sm font-bold text-white transition active:scale-95 hover:bg-primary-dark">
                    Ø­ÙØ¸
                </button>
            </div>
        </div>
    </div>

    <!-- ===============================
       Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
    ================================ -->
    <div id="notificationsModal" class="fixed inset-0 z-50 hidden items-start justify-end bg-black/40 backdrop-blur-sm">
        <div class="w-80 h-full bg-white dark:bg-surface-dark shadow-xl overflow-y-auto animate-[slideUp_0.3s_ease]">
            <div class="sticky top-0 bg-white dark:bg-surface-dark p-4 border-b border-gray-200 dark:border-white/5">
                <div class="flex items-center justify-between">
                    <h3 class="text-lg font-bold text-gray-900 dark:text-white">Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</h3>
                    <button onclick="closeNotificationsModal()" class="material-symbols-outlined text-gray-400 hover:text-primary transition-colors">
                        close
                    </button>
                </div>
                <button onclick="clearNotifications()" class="mt-2 text-xs text-primary hover:text-primary-dark transition-colors">Ø­Ø°Ù Ø§Ù„ÙƒÙ„</button>
            </div>
            <div id="notificationsList" class="p-4 space-y-3">
                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§ -->
                <div class="text-center py-8 text-gray-500 dark:text-[#c8a992]">
                    <span class="material-symbols-outlined text-4xl mb-2 block opacity-30">notifications_off</span>
                    <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ===============================
       Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
    ================================ -->
    <div id="settingsModal" class="fixed inset-0 z-50 hidden items-start justify-end bg-black/40 backdrop-blur-sm">
        <div class="w-80 h-full bg-white dark:bg-surface-dark shadow-xl overflow-y-auto animate-[slideUp_0.3s_ease]">
            <div class="sticky top-0 bg-white dark:bg-surface-dark p-4 border-b border-gray-200 dark:border-white/5">
                <div class="flex items-center justify-between">
                    <h3 class="text-lg font-bold text-gray-900 dark:text-white">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h3>
                    <button onclick="closeSettingsModal()" class="material-symbols-outlined text-gray-400 hover:text-primary transition-colors">
                        close
                    </button>
                </div>
            </div>
            <div class="p-4 space-y-6">
                <div>
                    <h4 class="font-bold text-gray-900 dark:text-white mb-3">Ø§Ù„Ù…Ø¸Ù‡Ø±</h4>
                    <div class="flex gap-2">
                        <button id="lightModeBtn" class="flex-1 rounded-lg border border-gray-300 dark:border-white/10 p-3 text-center transition hover:bg-gray-50 dark:hover:bg-white/5">
                            <span class="material-symbols-outlined block mb-1 text-yellow-500">light_mode</span>
                            <span class="text-xs font-medium">ÙØ§ØªØ­</span>
                        </button>
                        <button id="darkModeBtn" class="flex-1 rounded-lg border border-gray-300 dark:border-white/10 p-3 text-center transition hover:bg-gray-50 dark:hover:bg-white/5 bg-primary/10 border-primary">
                            <span class="material-symbols-outlined block mb-1 text-blue-400">dark_mode</span>
                            <span class="text-xs font-medium">Ø¯Ø§ÙƒÙ†</span>
                        </button>
                    </div>
                </div>
                
                <div>
                    <h4 class="font-bold text-gray-900 dark:text-white mb-3">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h4>
                    <button onclick="clearAllData()" class="w-full rounded-lg border border-red-300 dark:border-red-500/30 p-3 text-center text-red-600 dark:text-red-400 transition hover:bg-red-50 dark:hover:bg-red-500/10">
                        <span class="material-symbols-outlined align-middle mr-2">delete</span>
                        Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                    </button>
                </div>
                
                <div>
                    <h4 class="font-bold text-gray-900 dark:text-white mb-3">Ø­ÙˆÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h4>
                    <div class="text-sm text-gray-600 dark:text-[#c8a992]">
                        <p class="mb-2">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø´Ø®ØµÙŠØ© Ù„Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© ÙˆØ§Ù„ØªØªØ¨Ø¹</p>
                        <p class="text-xs">Ø§Ù„Ø¥ØµØ¯Ø§Ø± 1.0.0</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
    /* ===============================
       Ø§Ù„Ø«ÙˆØ§Ø¨Øª ÙˆØ§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
    ================================ */
    const BIRTH_KEY = "user_birth_date";
    const AYAH_KEY = "daily_ayah";
    const AYAH_DATE_KEY = "daily_ayah_date";
    const QUOTE_KEY = "current_quote";
    const NOTIFICATIONS_KEY = "user_notifications";
    const SETTINGS_KEY = "user_settings";
    
    // Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
    const DEFAULT_SETTINGS = {
        theme: "dark",
        notifications: true,
        autoRefresh: true
    };
    
    // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¢ÙŠØ§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù…Ø¹ ØªÙØ³ÙŠØ±
    const DEFAULT_AYAHS = [
        {
            text: "ÙˆÙØ£ÙÙ† Ù„Ù‘ÙÙŠÙ’Ø³Ù Ù„ÙÙ„Ù’Ø¥ÙÙ†Ø³ÙØ§Ù†Ù Ø¥ÙÙ„Ù‘ÙØ§ Ù…ÙØ§ Ø³ÙØ¹ÙÙ‰Ù°",
            surah: "Ø§Ù„Ù†Ø¬Ù…",
            number: 39,
            tafsir: "Ù„ÙƒÙ„ Ø¥Ù†Ø³Ø§Ù† Ø¬Ø²Ø§Ø¡ Ø³Ø¹ÙŠÙ‡ ÙˆØ¹Ù…Ù„Ù‡ØŒ ÙˆÙ„Ø§ ÙŠØ­Ù…Ù„ ÙˆØ²Ø± ØºÙŠØ±Ù‡"
        },
        {
            text: "Ø¥ÙÙ†Ù‘Ù Ù…ÙØ¹Ù Ø§Ù„Ù’Ø¹ÙØ³Ù’Ø±Ù ÙŠÙØ³Ù’Ø±Ù‹Ø§",
            surah: "Ø§Ù„Ø´Ø±Ø­",
            number: 6,
            tafsir: "Ø¨Ø¹Ø¯ ÙƒÙ„ ØµØ¹ÙˆØ¨Ø© ØªØ£ØªÙŠ Ø§Ù„ÙŠØ³Ø± ÙˆØ§Ù„ÙØ±Ø¬"
        },
        {
            text: "ÙˆÙØ§ØµÙ’Ø¨ÙØ±Ù’ Ù„ÙØ­ÙÙƒÙ’Ù…Ù Ø±ÙØ¨Ù‘ÙÙƒÙ ÙÙØ¥ÙÙ†Ù‘ÙÙƒÙ Ø¨ÙØ£ÙØ¹Ù’ÙŠÙÙ†ÙÙ†ÙØ§",
            surah: "Ø§Ù„Ø·ÙˆØ±",
            number: 48,
            tafsir: "Ø§Ù„ØµØ¨Ø± Ù…ÙØªØ§Ø­ Ø§Ù„ÙØ±Ø¬ØŒ ÙˆØ£Ù†Øª ØªØ­Øª Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ù„Ù‡ ÙˆØ­ÙØ¸Ù‡"
        },
        {
            text: "Ø¥ÙÙ†Ù‘Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ù„ÙØ§ ÙŠÙØºÙÙŠÙ‘ÙØ±Ù Ù…ÙØ§ Ø¨ÙÙ‚ÙÙˆÙ’Ù…Ù Ø­ÙØªÙ‘ÙÙ‰Ù° ÙŠÙØºÙÙŠÙ‘ÙØ±ÙÙˆØ§ Ù…ÙØ§ Ø¨ÙØ£ÙÙ†ÙÙØ³ÙÙ‡ÙÙ…Ù’",
            surah: "Ø§Ù„Ø±Ø¹Ø¯",
            number: 11,
            tafsir: "Ø§Ù„ØªØºÙŠÙŠØ± ÙŠØ¨Ø¯Ø£ Ù…Ù† Ø§Ù„Ø¯Ø§Ø®Ù„ØŒ ÙØ¥Ø°Ø§ Ø£Ø±Ø¯Øª ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ùƒ ÙØ§Ø¨Ø¯Ø£ Ø¨Ù†ÙØ³Ùƒ"
        },
        {
            text: "ÙˆÙÙ…ÙÙ† ÙŠÙØªÙ‘ÙÙ‚Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙŠÙØ¬Ù’Ø¹ÙÙ„ Ù„Ù‘ÙÙ‡Ù Ù…ÙØ®Ù’Ø±ÙØ¬Ù‹Ø§",
            surah: "Ø§Ù„Ø·Ù„Ø§Ù‚",
            number: 2,
            tafsir: "Ø§Ù„ØªÙ‚ÙˆÙ‰ Ù…ÙØªØ§Ø­ Ù„Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ø£Ø²Ù…Ø§Øª ÙˆØªØ°Ù„ÙŠÙ„ Ø§Ù„ØµØ¹Ø§Ø¨"
        }
    ];
    
    // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
    const DEFAULT_QUOTES = [
        {
            content: "Ø§Ù„Ù†Ø¬Ø§Ø­ Ù‡Ùˆ Ù…Ø¬Ù…ÙˆØ¹ Ù…Ø¬Ù‡ÙˆØ¯Ø§Øª ØµØºÙŠØ±Ø© ØªØªÙƒØ±Ø± ÙŠÙˆÙ…Ø§Ù‹ Ø¨Ø¹Ø¯ ÙŠÙˆÙ….",
            author: "Ø±ÙˆØ¨Ø±Øª ÙƒÙˆÙ„ÙŠØ±",
            source: "ÙƒØªØ§Ø¨ 'The Secret of the Ages'"
        },
        {
            content: "Ù„Ø§ ØªØ¤Ø¬Ù„ Ø¹Ù…Ù„ Ø§Ù„ÙŠÙˆÙ… Ø¥Ù„Ù‰ Ø§Ù„ØºØ¯ØŒ ÙØ±Ø¨Ù…Ø§ Ù„Ø§ ÙŠØ£ØªÙŠ Ø§Ù„ØºØ¯.",
            author: "Ù…Ø«Ù„ Ø¹Ø±Ø¨ÙŠ",
            source: "Ø§Ù„Ø£Ù…Ø«Ø§Ù„ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"
        },
        {
            content: "Ø§Ù„ÙˆÙ‚Øª ÙƒØ§Ù„Ø³ÙŠÙ Ø¥Ù† Ù„Ù… ØªÙ‚Ø·Ø¹Ù‡ Ù‚Ø·Ø¹Ùƒ.",
            author: "Ø¹Ù„ÙŠ Ø¨Ù† Ø£Ø¨ÙŠ Ø·Ø§Ù„Ø¨",
            source: "Ø­ÙƒÙ… Ø§Ù„Ø¥Ù…Ø§Ù… Ø¹Ù„ÙŠ"
        },
        {
            content: "Ø§Ù„Ø¹Ù…Ø± Ù‚ØµÙŠØ±ØŒ ÙˆØ§Ù„Ø¹Ù„Ù… Ø·ÙˆÙŠÙ„ØŒ ÙØ§Ø³ØªØºÙ„ ÙˆÙ‚ØªÙƒ ÙÙŠ Ù…Ø§ ÙŠÙ†ÙØ¹Ùƒ.",
            author: "Ø§Ø¨Ù† Ù‚ÙŠÙ… Ø§Ù„Ø¬ÙˆØ²ÙŠØ©",
            source: "Ù…ÙØªØ§Ø­ Ø¯Ø§Ø± Ø§Ù„Ø³Ø¹Ø§Ø¯Ø©"
        },
        {
            content: "Ø£ÙØ¶Ù„ ÙˆÙ‚Øª Ù„Ø²Ø±Ø¹ Ø´Ø¬Ø±Ø© ÙƒØ§Ù† Ù‚Ø¨Ù„ 20 Ø³Ù†Ø©ØŒ ÙˆØ§Ù„Ø«Ø§Ù†ÙŠ Ø£ÙØ¶Ù„ ÙˆÙ‚Øª Ù‡Ùˆ Ø§Ù„Ø¢Ù†.",
            author: "Ù…Ø«Ù„ ØµÙŠÙ†ÙŠ",
            source: "Ø§Ù„Ø­ÙƒÙ…Ø© Ø§Ù„ØµÙŠÙ†ÙŠØ©"
        }
    ];
    
    /* ===============================
       ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
    ================================ */
    document.addEventListener("DOMContentLoaded", function() {
        // ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ
        setCurrentDateTime();
        
        // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        setCurrentYear();
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        loadSettings();
        
        // ØªØ¹ÙŠÙŠÙ† ØªØ­ÙŠØ© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„ÙˆÙ‚Øª
        setGreetingByTime();
        
        // ØªØ­Ù…ÙŠÙ„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ Ø¥Ø°Ø§ Ù…ÙˆØ¬ÙˆØ¯
        const savedBirth = localStorage.getItem(BIRTH_KEY);
        if (savedBirth) {
            calculateAge(savedBirth);
            updateYearProgress(savedBirth);
        } else {
            // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯ Ù…Ø­ÙÙˆØ¸ØŒ Ø§ÙØªØ­ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
            setTimeout(() => {
                openBirthModal();
            }, 1000);
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¢ÙŠØ© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
        loadDailyAyah();
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³
        loadQuote();
        
        // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙˆÙ‚Øª
        updateTimeStatistics();
        
        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø³ØªÙ…Ø¹ÙŠÙ† Ù„Ù„Ø£Ø­Ø¯Ø§Ø«
        setupEventListeners();
        
        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ÙˆÙ‡Ù…ÙŠØ© Ù„Ù„Ø¹Ø±Ø¶
        setupSampleNotifications();
    });
    
    /* ===============================
       ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ
    ================================ */
    function setCurrentDateTime() {
        const now = new Date();
        const dateElement = document.getElementById("currentDate");
        
        const options = { 
            weekday: 'long', 
            year: 'numeric', 
            month: 'long', 
            day: 'numeric' 
        };
        
        const dateString = now.toLocaleDateString('ar-SA', options);
        dateElement.textContent = dateString;
    }
    
    /* ===============================
       ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
    ================================ */
    function setCurrentYear() {
        const yearEl = document.getElementById("currentYear");
        if (yearEl) {
            yearEl.textContent = new Date().getFullYear();
        }
    }
    
    /* ===============================
       ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ­ÙŠØ© Ø­Ø³Ø¨ Ø§Ù„ÙˆÙ‚Øª
    ================================ */
    function setGreetingByTime() {
        const greetingEl = document.getElementById("greeting");
        const hour = new Date().getHours();
        let greeting = "Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø£Ø­Ù…Ø¯";
        
        if (hour < 12) {
            greeting = "ØµØ¨Ø§Ø­ Ø§Ù„Ø®ÙŠØ± Ø£Ø­Ù…Ø¯ ğŸŒ…";
        } else if (hour < 18) {
            greeting = "Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ± Ø£Ø­Ù…Ø¯ â˜€ï¸";
        } else {
            greeting = "Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ± Ø£Ø­Ù…Ø¯ ğŸŒ™";
        }
        
        greetingEl.textContent = greeting;
    }
    
    /* ===============================
       Ø¥Ø¯Ø§Ø±Ø© Ù†Ø§ÙØ°Ø© ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯
    ================================ */
    function openBirthModal() {
        const stored = localStorage.getItem(BIRTH_KEY);
        const input = document.getElementById("birthInput");
        
        // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ (15 Ù†ÙˆÙÙ…Ø¨Ø± 1999)
        if (!stored) {
            const defaultDate = new Date(1999, 10, 15); // Ø´Ù‡Ø± 10 Ù‡Ùˆ Ù†ÙˆÙÙ…Ø¨Ø± (0-indexed)
            input.value = defaultDate.toISOString().split('T')[0];
        } else {
            input.value = stored;
        }
        
        // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„ÙŠÙˆÙ…
        const today = new Date();
        input.max = today.toISOString().split('T')[0];
        
        document.getElementById("birthModal").classList.remove("hidden");
        document.getElementById("birthModal").classList.add("flex");
    }
    
    function closeBirthModal() {
        document.getElementById("birthModal").classList.add("hidden");
        document.getElementById("birthModal").classList.remove("flex");
    }
    
    function saveBirthDate() {
        const input = document.getElementById("birthInput");
        if (!input.value) {
            alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯");
            return;
        }
        
        localStorage.setItem(BIRTH_KEY, input.value);
        calculateAge(input.value);
        updateYearProgress(input.value);
        closeBirthModal();
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­
        showNotification("ØªÙ… Ø­ÙØ¸ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ Ø¨Ù†Ø¬Ø§Ø­", "success");
    }
    
    /* ===============================
       Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…Ø± ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø±ÙŠØ·
    ================================ */
    function calculateAge(birthDate) {
        const now = new Date();
        const birth = new Date(birthDate);
        
        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ
        let age = now.getFullYear() - birth.getFullYear();
        const monthDiff = now.getMonth() - birth.getMonth();
        
        if (monthDiff < 0 || (monthDiff === 0 && now.getDate() < birth.getDate())) {
            age--;
        }
        
        // Ø­Ø³Ø§Ø¨ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ Ø§Ù„Ù‚Ø§Ø¯Ù…
        let nextBirthday = new Date(
            now.getFullYear(),
            birth.getMonth(),
            birth.getDate()
        );
        
        if (nextBirthday <= now) {
            nextBirthday.setFullYear(now.getFullYear() + 1);
        }
        
        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©
        const diffTime = nextBirthday - now;
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
        document.getElementById("remainingDays").textContent = `${diffDays} ÙŠÙˆÙ… Ù…ØªØ¨Ù‚ÙŠ`;
        document.getElementById("nextAge").textContent = age + 1;
        
        // ØªØ­Ø¯ÙŠØ« ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
        const monthNames = ["ÙŠÙ†Ø§ÙŠØ±", "ÙØ¨Ø±Ø§ÙŠØ±", "Ù…Ø§Ø±Ø³", "Ø£Ø¨Ø±ÙŠÙ„", "Ù…Ø§ÙŠÙˆ", "ÙŠÙˆÙ†ÙŠÙˆ",
                          "ÙŠÙˆÙ„ÙŠÙˆ", "Ø£ØºØ³Ø·Ø³", "Ø³Ø¨ØªÙ…Ø¨Ø±", "Ø£ÙƒØªÙˆØ¨Ø±", "Ù†ÙˆÙÙ…Ø¨Ø±", "Ø¯ÙŠØ³Ù…Ø¨Ø±"];
        document.getElementById("birthdayText").textContent = 
            `${birth.getDate()} ${monthNames[birth.getMonth()]}`;
        
        
        
        return { age, diffDays, nextBirthday };
    }
    
    /* ===============================
       ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· ØªÙ‚Ø¯Ù… Ø§Ù„Ø³Ù†Ø©
    ================================ */
   function updateYearProgress(birthDate) {
    const now = new Date();
    const birth = new Date(birthDate);

    // Ø¢Ø®Ø± Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯
    let lastBirthday = new Date(
        now.getFullYear(),
        birth.getMonth(),
        birth.getDate()
    );

    if (lastBirthday > now) {
        lastBirthday.setFullYear(lastBirthday.getFullYear() - 1);
    }

    // Ø¹ÙŠØ¯ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ Ø§Ù„Ù‚Ø§Ø¯Ù…
    let nextBirthday = new Date(
        lastBirthday.getFullYear() + 1,
        birth.getMonth(),
        birth.getDate()
    );

    const totalPeriod = nextBirthday - lastBirthday;
    const elapsed = now - lastBirthday;

    const progressPercentage = Math.min(
        100,
        Math.max(0, (elapsed / totalPeriod) * 100)
    );

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø±ÙŠØ·
    const progressBar = document.getElementById("progressBar");
    const progressMarker = document.getElementById("progressMarker");

    if (progressBar && progressMarker) {
        progressBar.style.width = `${progressPercentage}%`;
        progressMarker.style.left = `${100 - progressPercentage}%`;

        progressBar.style.animation = "progressFill 1s ease-out";
        progressBar.style.setProperty("--progress-width", `${progressPercentage}%`);
    }
}

    
    /* ===============================
       ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙˆÙ‚Øª
    ================================ */
    function updateTimeStatistics() {
        const now = new Date();
        
        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠ
        const startOfYear = new Date(now.getFullYear(), 0, 1);
        const days = Math.floor((now - startOfYear) / (1000 * 60 * 60 * 24));
        const weekNumber = Math.ceil((days + startOfYear.getDay() + 1) / 7);
        document.getElementById("currentWeek").textContent = weekNumber;
        
        // Ø­Ø³Ø§Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù… ÙÙŠ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ
        const daysInMonth = new Date(now.getFullYear(), now.getMonth() + 1, 0).getDate();
        document.getElementById("daysInMonth").textContent = daysInMonth;
        
        // Ø­Ø³Ø§Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù… ÙÙŠ Ø§Ù„Ø³Ù†Ø©
        const isLeapYear = (now.getFullYear() % 4 === 0 && now.getFullYear() % 100 !== 0) || 
                          (now.getFullYear() % 400 === 0);
        document.getElementById("daysInYear").textContent = isLeapYear ? 366 : 365;
        
        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© ÙÙŠ Ø§Ù„Ø³Ù†Ø©
        const endOfYear = new Date(now.getFullYear(), 11, 31, 23, 59, 59);
        const hoursLeft = Math.ceil((endOfYear - now) / (1000 * 60 * 60));
        document.getElementById("hoursLeft").textContent = hoursLeft.toLocaleString();
    }
    
    /* ===============================
       Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¢ÙŠØ© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
    ================================ */
    async function loadDailyAyah(forceRefresh = false) {
        const today = new Date().toISOString().split("T")[0];
        const savedDate = localStorage.getItem(AYAH_DATE_KEY);
        const savedAyah = localStorage.getItem(AYAH_KEY);
        
        // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ÙŠÙˆÙ… Ù‡Ùˆ Ù†ÙØ³ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…Ø­ÙÙˆØ¸ ÙˆÙ„Ø§ Ù†Ø±ÙŠØ¯ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø³Ø±ÙŠ
        if (savedDate === today && savedAyah && !forceRefresh) {
            const ayah = JSON.parse(savedAyah);
            renderAyah(ayah);
            return;
        }
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
        document.getElementById("ayahText").innerHTML = 
            `<span class="skeleton block h-6 w-full rounded"></span>`;
        document.getElementById("ayahInfo").innerHTML = 
            `<span class="skeleton block h-4 w-24 rounded"></span>`;
        document.getElementById("ayahTafsirText").innerHTML = 
            `<span class="skeleton block h-4 w-full rounded"></span>`;
        
        try {
            // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… API
            const res = await fetch("https://api.alquran.cloud/v1/ayah/random");
            const data = await res.json();
            
            if (data.code === 200 && data.data) {
                // Ø¬Ù„Ø¨ Ø§Ù„ØªÙØ³ÙŠØ±
                let tafsir = "ØªÙØ³ÙŠØ± Ø§Ù„Ø¢ÙŠØ©";
                try {
                    const tafsirRes = await fetch(`https://api.alquran.cloud/v1/ayah/${data.data.surah.number}:${data.data.numberInSurah}/ar.muyassar`);
                    const tafsirData = await tafsirRes.json();
                    if (tafsirData.data && tafsirData.data.text) {
                        tafsir = tafsirData.data.text;
                    }
                } catch (tafsirError) {
                    console.log("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙØ³ÙŠØ±:", tafsirError);
                }
                
                const ayahData = {
                    text: data.data.text,
                    surah: data.data.surah.name,
                    number: data.data.numberInSurah,
                    surahNumber: data.data.surah.number,
                    tafsir: tafsir
                };
                
                localStorage.setItem(AYAH_KEY, JSON.stringify(ayahData));
                localStorage.setItem(AYAH_DATE_KEY, today);
                
                renderAyah(ayahData);
                
                if (forceRefresh) {
                    showNotification("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¢ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­", "success");
                }
            } else {
                throw new Error("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¢ÙŠØ© Ù…Ù† API");
            }
        } catch (error) {
            console.log("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¢ÙŠØ© Ù…Ù† APIØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¢ÙŠØ§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©:", error);
            // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¢ÙŠØ© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©
            const randomIndex = Math.floor(Math.random() * DEFAULT_AYAHS.length);
            const ayahData = DEFAULT_AYAHS[randomIndex];
            
            localStorage.setItem(AYAH_KEY, JSON.stringify(ayahData));
            localStorage.setItem(AYAH_DATE_KEY, today);
            
            renderAyah(ayahData);
        }
    }
    
    function renderAyah(ayah) {
    document.getElementById("ayahText").textContent = `"${ayah.text}"`;
    document.getElementById("ayahInfo").textContent =
        `${ayah.surah} - ${ayah.number}`;
    document.getElementById("ayahTafsirText").textContent = ayah.tafsir;
}
    
    /* ===============================
       Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³Ø§Øª
    ================================ */
    async function loadQuote(forceRefresh = false) {
        const savedQuote = localStorage.getItem(QUOTE_KEY);
        
        // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø§Ù‚ØªØ¨Ø§Ø³ Ù…Ø­ÙÙˆØ¸ ÙˆÙ„Ø§ Ù†Ø±ÙŠØ¯ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø³Ø±ÙŠ
        if (savedQuote && !forceRefresh) {
            const quote = JSON.parse(savedQuote);
            renderQuote(quote);
            return;
        }
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
        document.getElementById("quoteText").innerHTML = 
            `<span class="skeleton block h-5 w-full rounded"></span>`;
        
        try {
            // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… API
            const res = await fetch("https://api.quotable.io/random?maxLength=100");
            const data = await res.json();
            
            if (data) {
                const quoteData = {
                    content: data.content,
                    author: data.author,
                    source: "Quotable API"
                };
                
                localStorage.setItem(QUOTE_KEY, JSON.stringify(quoteData));
                renderQuote(quoteData);
                
                if (forceRefresh) {
                    showNotification("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³ Ø¨Ù†Ø¬Ø§Ø­", "success");
                }
            } else {
                throw new Error("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³ Ù…Ù† API");
            }
        } catch (error) {
            console.log("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³ Ù…Ù† APIØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©:", error);
            // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù‚ØªØ¨Ø§Ø³ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©
            const randomIndex = Math.floor(Math.random() * DEFAULT_QUOTES.length);
            const quoteData = DEFAULT_QUOTES[randomIndex];
            
            localStorage.setItem(QUOTE_KEY, JSON.stringify(quoteData));
            renderQuote(quoteData);
        }
    }
    
    function renderQuote(quote) {
        document.getElementById("quoteText").textContent = `"${quote.content}"`;
        document.getElementById("quoteAuthor").textContent = quote.author;
        document.getElementById("quoteSource").textContent = quote.source || "Ù…ØµØ¯Ø± Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³";
    }
    
    /* ===============================
       Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
    ================================ */
    function setupSampleNotifications() {
        const notifications = [
            {
                id: 1,
                title: "Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©",
                message: "Ù„Ø¯ÙŠÙƒ Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø© ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù…",
                time: "Ù…Ù†Ø° 10 Ø¯Ù‚Ø§Ø¦Ù‚",
                read: false,
                icon: "task_alt"
            },
            {
                id: 2,
                title: "ØªØ°ÙƒÙŠØ±",
                message: "Ù…ÙˆØ¹Ø¯ Ø§Ø¬ØªÙ…Ø§Ø¹ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø¹Ø¯ Ø³Ø§Ø¹Ø©",
                time: "Ù…Ù†Ø° Ø³Ø§Ø¹Ø©",
                read: false,
                icon: "schedule"
            },
            {
                id: 3,
                title: "ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¸Ø§Ù…",
                message: "ØªÙ… ØªØ­Ø¯ÙŠØ« Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ù†Ø¬Ø§Ø­",
                time: "Ù…Ù†Ø° ÙŠÙˆÙ…ÙŠÙ†",
                read: true,
                icon: "update"
            }
        ];
        
        localStorage.setItem(NOTIFICATIONS_KEY, JSON.stringify(notifications));
        updateNotificationBadge();
    }
    
    function updateNotificationBadge() {
        const notifications = JSON.parse(localStorage.getItem(NOTIFICATIONS_KEY) || "[]");
        const unreadCount = notifications.filter(n => !n.read).length;
        const badge = document.getElementById("notificationBadge");
        
        if (unreadCount > 0) {
            badge.textContent = unreadCount > 9 ? "9+" : unreadCount;
            badge.classList.remove("hidden");
        } else {
            badge.classList.add("hidden");
        }
    }
    
    function showNotification(message, type = "info") {
        // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
        const notification = document.createElement("div");
        notification.className = `fixed top-4 left-4 right-4 z-50 rounded-xl p-4 shadow-lg animate-[slideUp_0.3s_ease] ${
            type === "success" ? "bg-emerald-500 text-white" :
            type === "error" ? "bg-red-500 text-white" :
            "bg-primary text-white"
        }`;
        
        notification.innerHTML = `
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <span class="material-symbols-outlined">
                        ${type === "success" ? "check_circle" : 
                          type === "error" ? "error" : "info"}
                    </span>
                    <p class="text-sm font-medium">${message}</p>
                </div>
                <button onclick="this.parentElement.parentElement.remove()" class="material-symbols-outlined text-lg">
                    close
                </button>
            </div>
        `;
        
        document.body.appendChild(notification);
        
        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†
        setTimeout(() => {
            if (notification.parentNode) {
                notification.remove();
            }
        }, 3000);
    }
    
    /* ===============================
       Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
    ================================ */
    function loadSettings() {
        const savedSettings = localStorage.getItem(SETTINGS_KEY);
        const settings = savedSettings ? JSON.parse(savedSettings) : DEFAULT_SETTINGS;
        
        // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†/Ø§Ù„ÙØ§ØªØ­
        if (settings.theme === "dark") {
            document.documentElement.classList.add("dark");
            document.getElementById("darkModeBtn").classList.add("bg-primary/10", "border-primary");
            document.getElementById("lightModeBtn").classList.remove("bg-primary/10", "border-primary");
        } else {
            document.documentElement.classList.remove("dark");
            document.getElementById("lightModeBtn").classList.add("bg-primary/10", "border-primary");
            document.getElementById("darkModeBtn").classList.remove("bg-primary/10", "border-primary");
        }
        
        return settings;
    }
    
    function saveSettings(settings) {
        localStorage.setItem(SETTINGS_KEY, JSON.stringify(settings));
    }
    
    function clearAllData() {
        if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡.")) {
            localStorage.clear();
            showNotification("ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­", "success");
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
            setTimeout(() => {
                location.reload();
            }, 1500);
        }
    }
    
    /* ===============================
       Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
    ================================ */
    function openNotificationsModal() {
        const modal = document.getElementById("notificationsModal");
        modal.classList.remove("hidden");
        modal.classList.add("flex");
        
        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        updateNotificationsList();
    }
    
    function closeNotificationsModal() {
        document.getElementById("notificationsModal").classList.add("hidden");
        document.getElementById("notificationsModal").classList.remove("flex");
    }
    
    function openSettingsModal() {
        const modal = document.getElementById("settingsModal");
        modal.classList.remove("hidden");
        modal.classList.add("flex");
    }
    
    function closeSettingsModal() {
        document.getElementById("settingsModal").classList.add("hidden");
        document.getElementById("settingsModal").classList.remove("flex");
    }
    
    function updateNotificationsList() {
        const notifications = JSON.parse(localStorage.getItem(NOTIFICATIONS_KEY) || "[]");
        const container = document.getElementById("notificationsList");
        
        if (notifications.length === 0) {
            container.innerHTML = `
                <div class="text-center py-8 text-gray-500 dark:text-[#c8a992]">
                    <span class="material-symbols-outlined text-4xl mb-2 block opacity-30">notifications_off</span>
                    <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</p>
                </div>
            `;
            return;
        }
        
        container.innerHTML = notifications.map(notification => `
            <div class="p-3 rounded-lg border border-gray-200 dark:border-white/5 ${!notification.read ? 'bg-primary/5' : ''}">
                <div class="flex items-start gap-3">
                    <span class="material-symbols-outlined text-primary">${notification.icon}</span>
                    <div class="flex-1">
                        <h4 class="font-bold text-sm text-gray-900 dark:text-white">${notification.title}</h4>
                        <p class="text-xs text-gray-600 dark:text-[#c8a992] mt-1">${notification.message}</p>
                        <span class="text-xs text-gray-400 mt-2 block">${notification.time}</span>
                    </div>
                    ${!notification.read ? '<span class="h-2 w-2 rounded-full bg-primary"></span>' : ''}
                </div>
            </div>
        `).join("");
    }
    
    function clearNotifications() {
        localStorage.removeItem(NOTIFICATIONS_KEY);
        updateNotificationsList();
        updateNotificationBadge();
        showNotification("ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª", "success");
    }
    
    /* ===============================
       Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
    ================================ */
    function setupEventListeners() {
        // ÙƒØ§Ø±Øª Ø§Ù„Ø¹Ù…Ø±
        document.getElementById("ageCard").addEventListener("click", openBirthModal);
        
        // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­Ø¯ÙŠØ«
        document.getElementById("refreshAyah").addEventListener("click", () => loadDailyAyah(true));
        document.getElementById("refreshQuote").addEventListener("click", () => loadQuote(true));
        
        // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        document.getElementById("notificationsBtn").addEventListener("click", openNotificationsModal);
        document.getElementById("settingsBtn").addEventListener("click", openSettingsModal);
        
        // Ø£Ø²Ø±Ø§Ø± Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„
        document.getElementById("viewAllBtn").addEventListener("click", () => {
            showNotification("Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ù‚Ø±ÙŠØ¨Ø§Ù‹", "info");
        });
        
        // Ø£Ø²Ø±Ø§Ø± ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø¸Ù‡Ø±
        document.getElementById("lightModeBtn").addEventListener("click", () => {
            document.documentElement.classList.remove("dark");
            document.getElementById("lightModeBtn").classList.add("bg-primary/10", "border-primary");
            document.getElementById("darkModeBtn").classList.remove("bg-primary/10", "border-primary");
            
            const settings = loadSettings();
            settings.theme = "light";
            saveSettings(settings);
            
            showNotification("ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø¸Ù‡Ø± Ø¥Ù„Ù‰ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­", "success");
        });
        
        document.getElementById("darkModeBtn").addEventListener("click", () => {
            document.documentElement.classList.add("dark");
            document.getElementById("darkModeBtn").classList.add("bg-primary/10", "border-primary");
            document.getElementById("lightModeBtn").classList.remove("bg-primary/10", "border-primary");
            
            const settings = loadSettings();
            settings.theme = "dark";
            saveSettings(settings);
            
            showNotification("ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø¸Ù‡Ø± Ø¥Ù„Ù‰ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†", "success");
        });
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
        setInterval(() => {
            const savedBirth = localStorage.getItem(BIRTH_KEY);
            if (savedBirth) {
                calculateAge(savedBirth);
                updateYearProgress(savedBirth);
                updateTimeStatistics();
            }
        }, 60000); // ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
    }
    </script>
</body>
</html>